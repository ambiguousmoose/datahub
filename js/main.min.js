"use strict";function onFormsSubmit(e){e.onsubmit=function(){return toggleSidePanel(sidePanelCont),activeParent&&element_delete_1.elementDelete(activeParent),!1}}function toggleSidePanel(e,t){e.classList.add("panel-cont--animatable"),e.classList.contains("panel-cont--visible")?(e.classList.remove("panel-cont--visible"),t&&t.classList.remove("on"),!0===activeSub&&hideRejQuery()):e.classList.add("panel-cont--visible")}function clickOffPanel(e){document.onmouseup=function(t){t.target===e&&e.classList.contains("panel-cont--visible")&&toggleSidePanel(sidePanelCont)}}function showRejQuery(){var e=rejBid.innerHTML,t=rejBname.innerHTML;subPanel.classList.contains("side-panel--visible")||(subPanel.classList.add("side-panel--visible"),activeSub=!0,content_update_1.updateDetails(rejQueriedBid,e,rejQueriedBname,t))}function hideRejQuery(){subPanel.classList.contains("side-panel--visible")&&(subPanel.classList.remove("side-panel--visible"),activeSub=!1)}function showSearch(){var e=closest_1.getClosest(this,".bp-list-item"),t=e.querySelector(".bpid").innerHTML,i=e.querySelector(".business-name > a").innerHTML;searchBlock.classList.remove("off"),approveBlock.classList.add("off"),rejectBlock.classList.add("off"),content_update_1.updateDetails(queriedBid,t,queriedBname,i),content_update_3.updateInput(searchBlock,i),toggleSidePanel(sidePanelCont)}function setUseThis(){var e=closest_1.getClosest(this,"li").querySelector(".partner-details").querySelector(".bpid").innerHTML;rejApprovedId.value=e,valid_field_set_1.setValid(rejectForm,rejApprovedId),content_update_2.updateLinkText(rejQueryLink,"Change choice"),hideRejQuery()}function showApprove(){var e=closest_1.getClosest(this,".approval-actions").querySelector(".icon-thumb-down"),t=closest_1.getClosest(this,".bp-list-item"),i=t.querySelector(".bpid").innerHTML,s=t.querySelector(".business-name > a").innerHTML,n=t.querySelector(".address").innerHTML;activeCheck=this,activeParent=t,selects_reset_1.resetSelects(rejectThumbs),selects_reset_1.resetSelects(approveThumbs),this.classList.add("on"),e.classList.remove("on"),searchBlock.classList.add("off"),approveBlock.classList.remove("off"),rejectBlock.classList.add("off"),content_update_1.updateDetails(appBid,i,appBname,s,appAddr,n),toggleSidePanel(sidePanelCont,activeCheck)}function showReject(){var e=closest_1.getClosest(this,".approval-actions").querySelector(".icon-thumb"),t=closest_1.getClosest(this,".bp-list-item"),i=t.querySelector(".bpid").innerHTML,s=t.querySelector(".business-name > a").innerHTML;activeCheck=this,activeParent=t,selects_reset_1.resetSelects(rejectThumbs),selects_reset_1.resetSelects(approveThumbs),e.classList.remove("on"),this.classList.add("on"),searchBlock.classList.add("off"),approveBlock.classList.add("off"),rejectBlock.classList.remove("off"),content_update_1.updateDetails(rejBid,i,rejBname,s),toggleSidePanel(sidePanelCont,activeCheck)}function resetHeights(e){for(var t=get_tallest_1.getTallest(e),i=ie_check_1.isIeCheck(),s=0;s<e.length;s++)i?e[s].style.height=t+"px":e[s].style.minHeight=t+"px";bidBlocksCont.classList.remove("bp-list--drawing")}function isResized(){clearTimeout(rTime),bidBlocksCont.classList.add("bp-list--drawing"),rTime=setTimeout(function(){resetHeights(bidBlocks)},500)}function bindViewLinks(e){for(var t=0;t<e.length;t++)e[t].addEventListener("click",toggleView,!0)}function toggleView(){bidBlocksCont.classList.toggle("bp-list--table");for(var e=0;e<viewActionsBtns.length;e++)viewActionsBtns[e].classList.toggle("active");resetHeights(bidBlocks)}var sideSwitch,activeCheck,activeParent,activeSub,closest_1=require("./closest"),content_update_1=require("./content-update"),content_update_2=require("./content-update"),content_update_3=require("./content-update"),valid_field_set_1=require("./valid-field-set"),bindings_1=require("./bindings"),bindings_2=require("./bindings"),selects_reset_1=require("./selects-reset"),transition_end_1=require("./transition-end"),confirm_1=require("./confirm"),get_tallest_1=require("./get-tallest"),ie_check_1=require("./ie-check"),element_delete_1=require("./element-delete"),searchForm=document.getElementById("search-form"),searchBlock=document.getElementById("search-block"),queriedBid=searchForm.querySelector(".queried-id"),queriedBname=searchForm.querySelector(".queried-text"),rejQueryform=document.getElementById("reject-query-form"),rejSearchBlock=document.getElementById("reject-query-block"),rejQueriedBid=document.querySelector(".queried-id"),rejQueriedBname=document.querySelector(".queried-name"),rejQueryUseBtn=document.querySelectorAll(".use-this"),approveForm=document.getElementById("approve-form"),approveBlock=document.getElementById("approve-block"),partnerDetails=approveBlock.querySelector(".partner-details"),appBid=partnerDetails.querySelector(".bpid"),appBname=partnerDetails.querySelector(".business-name"),appAddr=partnerDetails.querySelector(".address "),rejectForm=document.getElementById("reject-form"),rejectBlock=document.getElementById("reject-block"),rejBid=rejectBlock.querySelector(".bpid-rej-id"),rejBname=rejectBlock.querySelector(".bpid-rej-text"),rejApprovedId=document.getElementById("approved-id"),rejConfirmBtn=document.getElementById("rej-confirm"),approveThumbs=document.querySelectorAll(".icon-thumb"),rejectThumbs=document.querySelectorAll(".icon-thumb-down"),queryLink=document.querySelectorAll(".query-bp"),sidePanelCont=document.querySelector(".panel-cont"),theSidePanels=document.querySelectorAll(".side-panel"),formCancel=document.querySelectorAll(".cancel"),rejQueryLink=document.querySelector(".find-approved"),mainPanel=document.querySelector(".side-panel--one"),subPanel=document.querySelector(".side-panel--two"),bidBlocksCont=document.querySelector(".bp-list"),bidBlocks=document.querySelectorAll(".bp-list-item");clickOffPanel(sidePanelCont),onFormsSubmit(approveForm),onFormsSubmit(rejectForm),bindings_2.bindToList(showSearch,queryLink,"click"),bindings_2.bindToList(showApprove,approveThumbs,"click"),bindings_2.bindToList(showReject,rejectThumbs,"click"),bindings_1.bindTo(transition_end_1.onTransitionEnd,sidePanelCont,"transitionend"),bindings_1.bindTo(showRejQuery,rejQueryLink,"click"),bindings_2.bindToList(setUseThis,rejQueryUseBtn,"click"),bindings_1.bindTo(confirm_1.setConfirm,rejConfirmBtn,"click"),resetHeights(bidBlocks);var rTime;window.addEventListener("resize",isResized,!1);var viewActions=document.querySelector(".edit-view-actions"),viewActionsBtns=viewActions.querySelectorAll("a");bindViewLinks(viewActionsBtns),module.exports=0;